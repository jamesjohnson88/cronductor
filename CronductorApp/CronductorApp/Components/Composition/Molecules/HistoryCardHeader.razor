<!-- History Card Header Molecule -->
<div class="columns is-vcentered is-mobile">
    <div class="column">
        <div class="columns is-vcentered is-mobile">
            <div class="column">
                <h4 class="title is-6 mb-1">@History.RequestName</h4>
                <p class="subtitle is-7 has-text-grey-light mb-0">@History.Url</p>
                <div class="tags mt-3">
                    <StatusTag Text="@History.ExecutedAt.ToString("MMM dd, yyyy HH:mm:ss")" Status="info" />
                    <StatusTag Text="@History.Status" Status="@History.Status" />
                </div>
            </div>
            <div class="column is-narrow has-text-right">
                <div class="execution-details">
                    <p class="is-size-7 has-text-grey-light mb-1">Duration: @History.Duration ms</p>
                    <p class="is-size-7 has-text-grey-light mb-0">Status Code: @History.StatusCode</p>
                </div>
            </div>
        </div>
    </div>
    <div class="column is-narrow has-text-right is-flex is-align-items-center is-justify-content-flex-end">
        <IconButton IconClass="@(History.IsExpanded ? "fas fa-chevron-up" : "fas fa-chevron-down")"
            ButtonClass="neutral-button" OnClick="@(() => OnToggleExpanded.InvokeAsync(History.Id))" />
    </div>
</div>

@code {
    [Parameter]
    public HistoryModel History { get; set; } = new();

    [Parameter]
    public EventCallback<string> OnToggleExpanded { get; set; }
}
