@page "/requests/edit"
@rendermode InteractiveServer
@using CronductorApp.RequestScheduler
@using CronductorApp.RequestScheduler.Models
@inject ScheduleService ScheduleService

<h3>Edit</h3>

<p>Try adding a request</p>
<button class="btn btn-primary" @onclick="TryAddRequest">Add Request</button>

<br />
<p>Check the console for output.</p>

@code {
    private void TryAddRequest()
    {
        var request = new ScheduledRequest
        {
            Name = "Test Request",
            Method = "GET",
            Url = "https://jsonplaceholder.typicode.com/posts/1",
            CronSchedule = "*/20 * * * * *", // Every 20s
        };

        var success = ScheduleService.AddSchedule(request);
        // update a state or something?
    }
}